(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ecb885b"],{"0bb4":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"singer"},[n("list-view",{attrs:{data:t.singers},on:{select:t.selectSinger}}),n("router-view")],1)},i=[],c=(n("a4d3"),n("99af"),n("4de4"),n("4160"),n("4e82"),n("e439"),n("dbb4"),n("b64b"),n("d3b7"),n("ac1f"),n("466d"),n("159b"),n("96cf"),n("2fa7")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("scroll",{ref:"listview",staticClass:"listview",attrs:{data:t.data,"probe-type":3,"listen-scroll":""},on:{scroll:t.scroll}},[n("ul",t._l(t.data,(function(e){return n("li",{key:e.title,ref:"listGroup",refInFor:!0,staticClass:"list-group"},[n("h2",{staticClass:"list-group-title"},[t._v(t._s(e.title))]),n("ul",t._l(e.items,(function(e){return n("li",{key:e.id,staticClass:"list-group-item",on:{click:function(n){return t.selectItem(e)}}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.avatar,expression:"item.avatar"}],staticClass:"avatar"}),n("span",{staticClass:"name"},[t._v(t._s(e.name))])])})),0)])})),0),n("div",{staticClass:"list-shortcut",on:{touchstart:function(e){return e.stopPropagation(),e.preventDefault(),t.onShortcutTouchStart(e)},touchmove:function(e){return e.stopPropagation(),e.preventDefault(),t.onShortcutTouchMove(e)},touchend:function(t){t.stopPropagation()}}},[n("ul",t._l(t.shortcutList,(function(e,r){return n("li",{key:e,staticClass:"item",class:{current:t.currentIndex===r},attrs:{"data-index":r}},[t._v(t._s(e))])})),0)]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.fixedTitle,expression:"fixedTitle"}],ref:"fixed",staticClass:"list-fixed"},[n("div",{staticClass:"fixed-title"},[t._v(t._s(t.fixedTitle))])])])},a=[],s=(n("d81d"),n("13d5"),n("e25e"),n("c7cd"),n("4d31")),u=n("26a1"),l=18,f=30,d={name:"Listview",components:{Scroll:s["a"]},props:{data:{type:Array,default:function(){return[]}}},data:function(){return{currentIndex:0,scrollY:-1,diff:-1}},computed:{shortcutList:function(){return this.data.map((function(t){return t.title.substr(0,1)}))},fixedTitle:function(){return this.scrollY>0?"":this.data[this.currentIndex]?this.data[this.currentIndex].title:""}},watch:{data:function(){var t=this;setTimeout((function(){t._calculateHeight()}),20)},scrollY:function(t){var e=this.listHeight;if(t>0)this.currentIndex=0;else{for(var n=0;n<e.length-1;n++){var r=e[n],i=e[n+1];if(-t>=r&&-t<i)return this.currentIndex=n,void(this.diff=i+t)}this.currentIndex=e.length-2}},diff:function(t){var e=t>0&&t<f?t-f:0;this.fixedTop!==e&&(this.fixedTop=e,this.$refs.fixed.style.transform="translate3d(0, ".concat(e,"px, 0)"))}},methods:{selectItem:function(t){this.$emit("select",t)},onShortcutTouchStart:function(t){var e=Object(u["b"])(t.target,"index");this.touch.y1=t.touches[0].pageY,this.touch.anchorIndex=e,this._scrollTo(e)},onShortcutTouchMove:function(t){this.touch.y2=t.touches[0].pageY;var e=(this.touch.y2-this.touch.y1)/l|0,n=parseInt(this.touch.anchorIndex)+e;this._scrollTo(n)},scroll:function(t){this.scrollY=t.y},_calculateHeight:function(){var t=0;this.listHeight=this.$refs.listGroup.reduce((function(e,n){return t+=n.clientHeight,e.concat(t)}),[t])},_scrollTo:function(t){(t||0===t)&&(t<0?t=0:t>this.listHeight.length-2&&(t=this.listHeight.length-2),this.$refs.listview.scrollToElement(this.$refs.listGroup[t],0),this.scrollY=this.$refs.listview.scroll.y)}},created:function(){this.touch={},this.listHeight=[]}},h=d,p=(n("5408"),n("2877")),g=Object(p["a"])(h,o,a,!1,null,"0605192a",null),v=g.exports,b=n("7f5c"),m=n("da71"),x=(n("b0c0"),n("9f12")),y=function t(e){var n=e.id,r=e.name;Object(x["a"])(this,t),this.id=n,this.name=r,this.avatar="https://y.gtimg.cn/music/photo_new/T001R300x300M000".concat(n,".jpg?max_age=2592000")},w=n("5880");function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(n,!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var O=10,I="热门",j={name:"singer",components:{ListView:v},data:function(){return{singers:[]}},methods:S({selectSinger:function(t){this.$router.push({path:"/singer/".concat(t.id)}),this.setSinger(t)},_normalizeSinger:function(t){var e={hot:{title:I,items:[]}};t.forEach((function(t,n){n<O&&e.hot.items.push(new y({id:t.Fsinger_mid,name:t.Fsinger_name}));var r=t.Findex;e[r]||(e[r]={title:r,items:[]}),e[r].items.push(new y({id:t.Fsinger_mid,name:t.Fsinger_name}))}));var n=[],r=[];for(var i in e){var c=e[i];c.title.match(/[a-zA-Z]/)?n.push(c):c.title===I&&r.push(c)}return n.sort((function(t,e){return t.title.charCodeAt(0)-e.title.charCodeAt(0)})),[].concat(r,n)},_getSingerList:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(Object(b["b"])());case 2:t=e.sent,t.code===m["a"]&&(this.singers=this._normalizeSinger(t.data.list),console.log(this.singers));case 4:case"end":return e.stop()}}),null,this)}},Object(w["mapMutations"])({setSinger:"SET_SINGER"})),mounted:function(){this._getSingerList()}},E=j,T=(n("d39d"),Object(p["a"])(E,r,i,!1,null,"8cea4ae6",null));e["default"]=T.exports},"13d5":function(t,e,n){"use strict";var r=n("23e7"),i=n("d58f").left,c=n("b301");r({target:"Array",proto:!0,forced:c("reduce")},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(t,e,n){var r=n("c6b6"),i=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var c=n.call(t,e);if("object"!==typeof c)throw TypeError("RegExp exec method returned something other than an Object or null");return c}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"466d":function(t,e,n){"use strict";var r=n("d784"),i=n("825a"),c=n("50c4"),o=n("1d80"),a=n("8aa5"),s=n("14c3");r("match",1,(function(t,e,n){return[function(e){var n=o(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var o=i(t),u=String(this);if(!o.global)return s(o,u);var l=o.unicode;o.lastIndex=0;var f,d=[],h=0;while(null!==(f=s(o,u))){var p=String(f[0]);d[h]=p,""===p&&(o.lastIndex=a(u,c(o.lastIndex),l)),h++}return 0===h?null:d}]}))},"4e82":function(t,e,n){"use strict";var r=n("23e7"),i=n("1c0b"),c=n("7b0b"),o=n("d039"),a=n("b301"),s=[],u=s.sort,l=o((function(){s.sort(void 0)})),f=o((function(){s.sort(null)})),d=a("sort"),h=l||!f||d;r({target:"Array",proto:!0,forced:h},{sort:function(t){return void 0===t?u.call(c(this)):u.call(c(this),i(t))}})},5408:function(t,e,n){"use strict";var r=n("7cba"),i=n.n(r);i.a},6547:function(t,e,n){var r=n("a691"),i=n("1d80"),c=function(t){return function(e,n){var c,o,a=String(i(e)),s=r(n),u=a.length;return s<0||s>=u?t?"":void 0:(c=a.charCodeAt(s),c<55296||c>56319||s+1===u||(o=a.charCodeAt(s+1))<56320||o>57343?t?a.charAt(s):c:t?a.slice(s,s+2):o-56320+(c-55296<<10)+65536)}};t.exports={codeAt:c(!1),charAt:c(!0)}},"7cba":function(t,e,n){},"7f5c":function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return o}));var r=n("7f19"),i=n("da71");function c(){var t="https://c.y.qq.com/v8/fcg-bin/v8.fcg",e=Object.assign({},i["b"],{channel:"singer",page:"list",key:"all_all_all",pagesize:100,pagenum:1,hostUin:0,needNewCode:0,platform:"yqq"});return Object(r["a"])(t,e,i["c"])}function o(t){var e="https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg",n=Object.assign({},i["b"],{hostUin:0,needNewCode:0,platform:"yqq",order:"listen",begin:0,num:80,songstatus:1,singermid:t});return Object(r["a"])(e,n,i["c"])}},"857a":function(t,e,n){var r=n("1d80"),i=/"/g;t.exports=function(t,e,n,c){var o=String(r(t)),a="<"+e;return""!==n&&(a+=" "+n+'="'+String(c).replace(i,"&quot;")+'"'),a+">"+o+"</"+e+">"}},"8aa5":function(t,e,n){"use strict";var r=n("6547").charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},9263:function(t,e,n){"use strict";var r=n("ad6d"),i=RegExp.prototype.exec,c=String.prototype.replace,o=i,a=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),s=void 0!==/()??/.exec("")[1],u=a||s;u&&(o=function(t){var e,n,o,u,l=this;return s&&(n=new RegExp("^"+l.source+"$(?!\\s)",r.call(l))),a&&(e=l.lastIndex),o=i.call(l,t),a&&o&&(l.lastIndex=l.global?o.index+o[0].length:e),s&&o&&o.length>1&&c.call(o[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(o[u]=void 0)})),o}),t.exports=o},"9f12":function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},ac1f:function(t,e,n){"use strict";var r=n("23e7"),i=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(t,e,n){"use strict";var r=n("825a");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b0c0:function(t,e,n){var r=n("83ab"),i=n("9bf2").f,c=Function.prototype,o=c.toString,a=/^\s*function ([^ (]*)/,s="name";!r||s in c||i(c,s,{configurable:!0,get:function(){try{return o.call(this).match(a)[1]}catch(t){return""}}})},c7cd:function(t,e,n){"use strict";var r=n("23e7"),i=n("857a"),c=n("eae9");r({target:"String",proto:!0,forced:c("fixed")},{fixed:function(){return i(this,"tt","","")}})},d39d:function(t,e,n){"use strict";var r=n("d9e8"),i=n.n(r);i.a},d58f:function(t,e,n){var r=n("1c0b"),i=n("7b0b"),c=n("44ad"),o=n("50c4"),a=function(t){return function(e,n,a,s){r(n);var u=i(e),l=c(u),f=o(u.length),d=t?f-1:0,h=t?-1:1;if(a<2)while(1){if(d in l){s=l[d],d+=h;break}if(d+=h,t?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;t?d>=0:f>d;d+=h)d in l&&(s=n(s,l[d],d,u));return s}};t.exports={left:a(!1),right:a(!0)}},d784:function(t,e,n){"use strict";var r=n("9112"),i=n("6eeb"),c=n("d039"),o=n("b622"),a=n("9263"),s=o("species"),u=!c((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=!c((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,f){var d=o(t),h=!c((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),p=h&&!c((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[s]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return e=!0,null},n[d](""),!e}));if(!h||!p||"replace"===t&&!u||"split"===t&&!l){var g=/./[d],v=n(d,""[t],(function(t,e,n,r,i){return e.exec===a?h&&!i?{done:!0,value:g.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),b=v[0],m=v[1];i(String.prototype,t,b),i(RegExp.prototype,d,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)}),f&&r(RegExp.prototype[d],"sham",!0)}}},d81d:function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").map,c=n("1dde");r({target:"Array",proto:!0,forced:!c("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},d9e8:function(t,e,n){},e25e:function(t,e,n){var r=n("23e7"),i=n("e583");r({global:!0,forced:parseInt!=i},{parseInt:i})},e583:function(t,e,n){var r=n("da84"),i=n("58a8").trim,c=n("5899"),o=r.parseInt,a=/^[+-]?0[Xx]/,s=8!==o(c+"08")||22!==o(c+"0x16");t.exports=s?function(t,e){var n=i(String(t));return o(n,e>>>0||(a.test(n)?16:10))}:o},eae9:function(t,e,n){var r=n("d039");t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}}}]);
//# sourceMappingURL=chunk-0ecb885b.495ce6fb.js.map